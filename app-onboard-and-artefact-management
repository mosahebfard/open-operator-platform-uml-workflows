@startuml
!pragma teoz true

'skinparam ParticipantPadding 10
skinparam BoxPadding 10

skinparam sequence {
    'ParticipantFontSize 20
    'ParticipantFontStyle bold
    'MessageFontSize 12
    MessageFontStyle bold
    ArrowThickness 2
    LifeLineBorderThickness 2
}

participant "Application\nProvider" as app

box "\nOriginating SOP\n" #DAE8FC
participant "Open Exposure\nGateway" as oeg1 #FAD9D5
participant "Federation\nManager" as fm1 #FAD9D5
end box

box "\nPartner SOP\n" #FFE6CC
participant "Federation\nManager" as fm2 #FAD9D5
box "Open SDK" #FAD7AC
participant "Edge Cloud\nTF" as tf2 #FAD9D5
end box
end box

participant "Edge Cloud\nPlatform" as ecp2 #FFCC99

note right app #white: CAMARA API\n(Edge App. Management)
app -> oeg1: App. Onboarding Req.\n(Partner SOP Zone)
oeg1 <-> fm1: Check Federation Agreements
note right oeg1 #white: GSMA Artefact\nManagement API

oeg1 -> fm1: Artefact Registration Req.\n(Partner SOP Zone)
fm1 -> fm2 : Artefact Registration Req.\n(Partner SOP Zone)
fm2 -> tf2 : Artefact Registration\nReq.
tf2 -> ecp2: Artefact Registration\nReq.
ecp2 <-> ecp2: Register Artefact\n

ecp2 --> tf2: ACK
tf2 --> fm2: ACK
fm2 --> fm1: ACK 
fm1 --> oeg1: ACK

note right oeg1 #white: GSMA App. Onboarding\nManagement API
oeg1 -> fm1: App. Onboarding Req.\n(Partner SOP Zone)
fm1 -> fm2: App. Onboarding\nReq.
fm2 -> tf2: App. Onboarding\nReq.
tf2 -> ecp2: App. Onboarding\nReq.
ecp2 <-> ecp2: Onboard App.\n
ecp2 --> tf2: ACK
tf2 --> fm2: ACK
fm2 --> fm1: ACK
fm1 --> oeg1: ACK
oeg1 --> app: App. Onboarding Response
@enduml